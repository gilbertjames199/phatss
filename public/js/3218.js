"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3218],{6746:(e,t,l)=>{l.d(t,{Z:()=>r});var n=l(3645),a=l.n(n)()((function(e){return e[1]}));a.push([e.id,".row-centered{text-align:center}.col-centered{display:inline-block;float:none;margin-right:-4px;text-align:left}.pos{position:top;top:240px}",""]);const r=a},1563:(e,t,l)=>{l.d(t,{Z:()=>r});var n=l(3645),a=l.n(n)()((function(e){return e[1]}));a.push([e.id,"#sidebar-wrapper{height:100%;margin-right:-250px;margin-top:-9px;overflow-y:auto;position:fixed;right:250px;transition:all .5s ease;width:auto;z-index:1000}",""]);const r=a},3218:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Be});var n=l(821),a=(0,n.createElementVNode)("title",null,"Home",-1),r={class:"row gap-20 masonry pos-r"},o={class:"masonry-item w-100"},c={class:"row gap-20"},i=(0,n.createElementVNode)("h1",{style:{color:"#26394a","font-weight":"bold","font-family":"verdana"}},"Sanitation Management System",-1),s={class:"peers fxw-nw jc-sb ai-c"},d={key:0},u={key:1},m={key:2},p={class:"peers"},h=(0,n.createElementVNode)("div",{class:"peer"},null,-1),b={class:"peer"},f={key:0,class:"col-md-12"},V=(0,n.createElementVNode)("span",null,"Filters:  ",-1),N={key:0,class:"d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-red-50 c-red-500"},g=(0,n.createTextVNode)("   "),E={key:0,class:"d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-yellow-50 c-black-500"},y=(0,n.createTextVNode)("   "),v={key:0,class:"d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-green-50 c-green-500"},k=(0,n.createTextVNode)("   "),w={class:"col-md-4"},_={class:"layers bd bgc-white p-20"},B={class:"layer w-100 mB-10"},S=(0,n.createStaticVNode)('<h6 class="lh-1"><table><tr><td><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-clipboard-data-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1ZM10 8a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V8Zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1Zm4-3a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z"></path></svg>   </td><td><h5 href="/details/demographics" target="_blank">Number of Surveyed Households</h5></td></tr></table></h6><hr>',2),C={style:{color:"red","font-weight":"bold","text-align":"center"}},D={class:"col-md-4"},x={class:"layers bd bgc-white p-20"},G={class:"layer w-100 mB-10"},O=(0,n.createElementVNode)("h6",{class:"lh-1"},[(0,n.createElementVNode)("table",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-archive",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"})]),(0,n.createTextVNode)("    ")]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("h5",{href:"/details/demographics",target:"_blank"},"Number of Households with Toilets")])])])],-1),Z=(0,n.createElementVNode)("hr",null,null,-1),A={style:{color:"#756e04","font-weight":"bold","text-align":"center"}},F={class:"col-md-4"},T={class:"layers bd bgc-white p-20"},L={class:"layer w-100 mB-10"},M=(0,n.createElementVNode)("h6",{class:"lh-1"},[(0,n.createElementVNode)("table",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-archive-fill",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{d:"M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1M.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8z"})]),(0,n.createTextVNode)("   ")]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("h5",{href:"/details/demographics",target:"_blank"},"Number of Households with Functional Toilets")])])])],-1),j=(0,n.createElementVNode)("hr",null,null,-1),U={style:{color:"#02ab75","font-weight":"bold","text-align":"center"}},I={class:"col-md-6"},R={class:"layers bd bgc-white p-20"},H={class:"layer w-100 mB-10"},z=(0,n.createTextVNode)(" Risk Assessment Chart "),P={class:"col-md-6"},$={class:"layers bd bgc-white p-20"},Y={class:"layer w-100 mB-10"},K={class:"table table-sm table-bordered table-striped table-hover"},X=(0,n.createElementVNode)("thead",{class:"thead-dark"},[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",{colspan:"6",style:{"background-color":"grey",color:"white"}},[(0,n.createElementVNode)("b",null," RISK LEVEL DISTRIBUTION BY LOCATION ")])]),(0,n.createElementVNode)("tr",{style:{"background-color":"#c1c9c4"}},[(0,n.createElementVNode)("th",null," Location "),(0,n.createElementVNode)("th",null,"Open Defecation -G0"),(0,n.createElementVNode)("th",null,"Zero Open Defecation -G1"),(0,n.createElementVNode)("th",null,"Basic Sanitation G2"),(0,n.createElementVNode)("th",null,"Safely Managed G3"),(0,n.createElementVNode)("th",null,"Total")])],-1),Q=["href"],q=["href"],J=["href"],W=["href"],ee=["href"],te=(0,n.createElementVNode)("th",null,"Total",-1),le=(0,n.createElementVNode)("p",null,null,-1),ne=(0,n.createElementVNode)("h4",null,[(0,n.createTextVNode)("FILTERS"),(0,n.createElementVNode)("br")],-1),ae=(0,n.createElementVNode)("b",null,"Year:",-1),re=[(0,n.createElementVNode)("option",null,null,-1),(0,n.createElementVNode)("option",null,"2023",-1),(0,n.createElementVNode)("option",null,"2024",-1),(0,n.createElementVNode)("option",null,"2025",-1),(0,n.createElementVNode)("option",null,"2026",-1),(0,n.createElementVNode)("option",null,"2027",-1)],oe={key:0},ce=(0,n.createElementVNode)("b",null,"Municipality:",-1),ie=(0,n.createTextVNode)("   "),se=(0,n.createElementVNode)("option",null,null,-1),de=(0,n.createTextVNode)("   "),ue={key:1},me=(0,n.createElementVNode)("b",null,"Barangays: ",-1),pe=(0,n.createElementVNode)("option",null,null,-1),he=(0,n.createTextVNode)("      "),be=(0,n.createElementVNode)("hr",null,null,-1);var fe=l(7757),Ve=l.n(fe),Ne=l(2830),ge=l(8687);function Ee(e,t,l,n,a,r,o){try{var c=e[r](o),i=c.value}catch(e){return void l(e)}c.done?t(i):Promise.resolve(i).then(n,a)}(0,n.ref)(0);const ye={props:{auth:Object,with_toilets:Number,with_functional_toilet:Number,_8_composting:Number,dt_g0:Object,dt_g1:Object,dt_g2:Object,dt_g3:Object,total:Object,data_by_mun_label:Object,results:Object,barangays:Object,municipalities:Object,puroks:Object},components:{RiskAssessmentChart:Ne.Z,Filtering:ge.Z},data:function(){return{mun:"",bar:"",year:"",purok:"",filter:!1}},computed:{chartDataType:function(){return[{label:"G0",backgroundColor:"#fc1303",data:this.dt_g0},{label:"G1",backgroundColor:"#fc7600",data:this.dt_g1},{label:"G2",backgroundColor:"#d1f505",data:this.dt_g2},{label:"G3",backgroundColor:"#02ab75",data:this.dt_g3}]},chartOptionCom:function(){return{datalabels:{color:"white",display:!1}}},number_of_households:function(){return this.total.reduce((function(e,t){return e+t}),0)},totalG0:function(){return this.results.reduce((function(e,t){return e+parseFloat(t.Open_Defecation_G0||0)}),0)},totalG1:function(){return this.results.reduce((function(e,t){return e+parseFloat(t.Zero_Open_Defecation_G1||0)}),0)},totalG2:function(){return this.results.reduce((function(e,t){return e+parseFloat(t.Basic_Sanitation_G2||0)}),0)},totalG3:function(){return this.results.reduce((function(e,t){return e+parseFloat(t.Safely_Managed_G3||0)}),0)},totalOverall:function(){return this.results.reduce((function(e,t){return e+parseFloat(t.total||0)}),0)}},methods:{filter_me:function(e){var t,l=this;return(t=Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"mun"===e&&(l.bar="",l.pur=""),"bar"===e&&(l.pur=""),l.$inertia.get("/",{mun:l.mun,bar:l.bar,pur:l.pur,year:l.year},{preserveScroll:!0,preserveState:!0,replace:!0,onSuccess:function(){l.componentKey++}});case 3:case"end":return t.stop()}}),t)})),function(){var e=this,l=arguments;return new Promise((function(n,a){var r=t.apply(e,l);function o(e){Ee(r,n,a,o,c,"next",e)}function c(e){Ee(r,n,a,o,c,"throw",e)}o(void 0)}))})()},showFilter:function(){this.filter=!this.filter},clearFilter:function(){this.bar="",this.mun="",this.pur="",this.year="",this.filter_me("clear")},generateUrl:function(e,t){var l=this.bar,n=this.mun,a=this.year,r=new URLSearchParams;l?r.append("pur",t):n?r.append("bar",t):r.append("mun",t),r.append("relrisk",e),r.append("year_survey",a);var o="".concat(window.location.origin,"/households");return"".concat(o,"?").concat(r.toString())}}};var ve=l(3379),ke=l.n(ve),we=l(6746),_e={insert:"head",singleton:!1};ke()(we.Z,_e);we.Z.locals;const Be=(0,l(3744).Z)(ye,[["render",function(e,t,l,fe,Ve,Ne){var ge=(0,n.resolveComponent)("Head"),Ee=(0,n.resolveComponent)("RiskAssessmentChart"),ye=(0,n.resolveComponent)("filtering");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(ge,null,{default:(0,n.withCtx)((function(){return[a]})),_:1}),(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("div",c,[i,(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("h2",null,["Barangay"===l.auth.user.level?((0,n.openBlock)(),(0,n.createElementBlock)("span",d,"Barangay "+(0,n.toDisplayString)(l.auth.user.barangay),1)):(0,n.createCommentVNode)("",!0),"Municipal"===l.auth.user.level?((0,n.openBlock)(),(0,n.createElementBlock)("span",u,"Municipality of "+(0,n.toDisplayString)(l.auth.user.municipality),1)):(0,n.createCommentVNode)("",!0),"Provincial"===l.auth.user.level?((0,n.openBlock)(),(0,n.createElementBlock)("span",m,"Province of Davao de Oro")):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",p,[h,(0,n.createElementVNode)("div",b,[(0,n.createElementVNode)("button",{class:"btn btn-primary btn-sm mL-2 text-white",onClick:t[0]||(t[0]=function(e){return Ne.showFilter()})},"Filter")])])]),Ve.bar||Ve.mun||Ve.year?((0,n.openBlock)(),(0,n.createElementBlock)("div",f,[V,(0,n.createElementVNode)("span",null,[Ve.year?((0,n.openBlock)(),(0,n.createElementBlock)("span",N,(0,n.toDisplayString)(Ve.year),1)):(0,n.createCommentVNode)("",!0),g]),(0,n.createElementVNode)("span",null,[Ve.mun?((0,n.openBlock)(),(0,n.createElementBlock)("span",E,(0,n.toDisplayString)(Ve.mun),1)):(0,n.createCommentVNode)("",!0),y]),Ve.bar?((0,n.openBlock)(),(0,n.createElementBlock)("span",v,(0,n.toDisplayString)(Ve.bar),1)):(0,n.createCommentVNode)("",!0),k])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",w,[(0,n.createElementVNode)("div",_,[(0,n.createElementVNode)("div",B,[S,(0,n.createElementVNode)("h2",C,(0,n.toDisplayString)(e.format_number(Ne.number_of_households,0,!0)),1)])])]),(0,n.createElementVNode)("div",D,[(0,n.createElementVNode)("div",x,[(0,n.createElementVNode)("div",G,[O,Z,(0,n.createElementVNode)("h2",A,(0,n.toDisplayString)(e.format_number(l.with_toilets,0,!0)),1)])])]),(0,n.createElementVNode)("div",F,[(0,n.createElementVNode)("div",T,[(0,n.createElementVNode)("div",L,[M,j,(0,n.createElementVNode)("h2",U,(0,n.toDisplayString)(e.format_number(l.with_functional_toilet,0,!0)),1)])])]),(0,n.createElementVNode)("div",I,[(0,n.createElementVNode)("div",R,[(0,n.createElementVNode)("div",H,[z,((0,n.openBlock)(),(0,n.createBlock)(Ee,{key:e.componentKey,chartData:Ne.chartDataType,chartLabel:l.data_by_mun_label,plugins:Ne.chartOptionCom},null,8,["chartData","chartLabel","plugins"]))])])]),(0,n.createElementVNode)("div",P,[(0,n.createElementVNode)("div",$,[(0,n.createElementVNode)("div",Y,[(0,n.createElementVNode)("table",K,[X,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.results,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:e.municipality},[(0,n.createElementVNode)("th",null,(0,n.toDisplayString)(e.municipality),1),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("a",{href:Ne.generateUrl("G0",e.municipality),target:"_blank"},(0,n.toDisplayString)(e.Open_Defecation_G0),9,Q)]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("a",{href:Ne.generateUrl("G1",e.municipality),target:"_blank"},(0,n.toDisplayString)(e.Zero_Open_Defecation_G1),9,q)]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("a",{href:Ne.generateUrl("G2",e.municipality),target:"_blank"},(0,n.toDisplayString)(e.Basic_Sanitation_G2),9,J)]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("a",{href:Ne.generateUrl("G3",e.municipality),target:"_blank"},(0,n.toDisplayString)(e.Safely_Managed_G3),9,W)]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("a",{href:Ne.generateUrl("ALL",e.municipality),target:"_blank"},(0,n.toDisplayString)(e.total),9,ee)])])})),128)),(0,n.createElementVNode)("tr",null,[te,(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ne.totalG0),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ne.totalG1),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ne.totalG2),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ne.totalG3),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ne.totalOverall),1)])])]),le])])]),Ve.filter?((0,n.openBlock)(),(0,n.createBlock)(ye,{key:1,onCloseFilter:t[8]||(t[8]=function(e){return Ve.filter=!1}),title:"DATA FILTERS"},{default:(0,n.withCtx)((function(){return[ne,ae,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return Ve.year=e}),onChange:t[2]||(t[2]=function(e){return Ne.filter_me("year")})},re,544),[[n.vModelSelect,Ve.year]]),"Provincial"===l.auth.user.level?((0,n.openBlock)(),(0,n.createElementBlock)("span",oe,[ce,ie,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(e){return Ve.mun=e}),onChange:t[4]||(t[4]=function(e){return Ne.filter_me("mun")})},[se,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.municipalities,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",null,(0,n.toDisplayString)(e),1)})),256))],544),[[n.vModelSelect,Ve.mun]])])):(0,n.createCommentVNode)("",!0),de,"Barangay"!==l.auth.user.level?((0,n.openBlock)(),(0,n.createElementBlock)("span",ue,[me,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(e){return Ve.bar=e}),onChange:t[6]||(t[6]=function(e){return Ne.filter_me("bar")})},[pe,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.barangays,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",null,(0,n.toDisplayString)(e),1)})),256))],544),[[n.vModelSelect,Ve.bar]])])):(0,n.createCommentVNode)("",!0),he,be,(0,n.createElementVNode)("button",{class:"btn btn-danger text-white",onClick:t[7]||(t[7]=function(){return Ne.clearFilter&&Ne.clearFilter.apply(Ne,arguments)})},"Clear Filters")]})),_:1})):(0,n.createCommentVNode)("",!0)])])])],64)}]])},2830:(e,t,l)=>{l.d(t,{Z:()=>c});var n=l(821),a=l(3764),r=l(6300);r.kL.register(r.Dx,r.u,r.De,r.ZL,r.uw,r.f$);const o=(0,n.defineComponent)({name:"BarChart",components:{Bar:a.$Q},props:{chartId:{type:String,default:"bar-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Array,default:function(){return[]}},chartData:{type:Array,default:function(){return[]}},chartLabel:{type:Array,default:function(){return[]}}},setup:function(e){var t={labels:e.chartLabel,datasets:e.chartData},l={responsive:!0,maintainAspectRatio:!1,plugins:e.plugins,scales:{yAxis:{min:0,beginAtZero:!0},xAxis:{grid:{display:!1}}}};return function(){return(0,n.h)(a.$Q,{chartData:t,chartOptions:l,chartId:e.chartId,width:e.width,height:e.height,cssClasses:e.cssClasses,styles:e.styles})}}});const c=(0,l(3744).Z)(o,[["render",function(e,t,l,n,a,r){return null}]])},8687:(e,t,l)=>{l.d(t,{Z:()=>b});var n=l(821),a={id:"sidebar-wrapper",class:"sidebar-nav nav navbar-inverse"},r={class:"row",style:{width:"380px"}},o={class:"bgc-white"},c={class:"modal-header"},i={class:"modal-title",id:"exampleModalLiveLabel"},s={class:"modal-body"};const d={props:{title:String}};var u=l(3379),m=l.n(u),p=l(1563),h={insert:"head",singleton:!1};m()(p.Z,h);p.Z.locals;const b=(0,l(3744).Z)(d,[["render",function(e,t,l,d,u,m){return(0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("div",o,[(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("h5",i,(0,n.toDisplayString)(l.title),1),(0,n.createElementVNode)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeFilter")})})]),(0,n.createElementVNode)("div",s,[(0,n.renderSlot)(e.$slots,"default")])])])])}]])}}]);