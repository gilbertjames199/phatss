"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3981],{9031:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(3645),l=n.n(a)()((function(e){return e[1]}));l.push([e.id,"#sidebar-wrapper{height:100%;margin-right:-250px;margin-top:-9px;overflow-y:auto;position:fixed;right:250px;transition:all .5s ease;width:auto;z-index:1000}",""]);const r=l},3981:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ee});var a=n(821),l=(0,a.createElementVNode)("title",null,"Home",-1),r={class:"row gap-20 masonry pos-r"},o={class:"peers fxw-nw jc-sb ai-c"},c=(0,a.createElementVNode)("h3",null,"Sanitation Level",-1),s={class:"peers"},i={class:"peer mR-10"},u=(0,a.createTextVNode)(" View By "),d=[(0,a.createElementVNode)("option",{value:"mun"},"Municipality",-1),(0,a.createElementVNode)("option",{value:"bar"},"Barangay",-1)],m={key:0,class:"peer mR-10"},p=(0,a.createTextVNode)(" Municipality "),h=(0,a.createElementVNode)("option",null,null,-1),v={class:"peer mR-10"},E=(0,a.createTextVNode)(" Results per page "),N=[(0,a.createElementVNode)("option",null,"10",-1),(0,a.createElementVNode)("option",null,"50",-1),(0,a.createElementVNode)("option",null,"100",-1),(0,a.createElementVNode)("option",null,"300",-1),(0,a.createElementVNode)("option",null,"500",-1)],V={class:"peers"},g={class:"masonry-sizer col-md-6"},f={class:"bgc-white p-20 bd"},k={class:"table-responsive"},y={class:"table table-sm table-borderless table-striped table-hover"},b={key:0},w=[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",{colspan:"3"},[(0,a.createElementVNode)("h2",null,"MUNICIPALITIES")])],-1),(0,a.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,a.createElementVNode)("th",null,"Municipality"),(0,a.createElementVNode)("th",null,"Sanitation Status"),(0,a.createElementVNode)("th",null,"Relative Risk Assessment")],-1)],B={key:1},x=["onClick"],S={key:2},D={key:0},C={colspan:"3"},M=(0,a.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,a.createElementVNode)("th",null,"Barangays"),(0,a.createElementVNode)("th",null,"Relative Risk Assessment"),(0,a.createElementVNode)("th",null,"Sanitation Status")],-1),L={key:3},A=["onClick"],H={key:0,class:"masonry-sizer col-md-6"},I={class:"bgc-white p-20 bd"},R={class:"table-responsive"},F={class:"table table-sm table-borderless table-striped table-hover"},T={colspan:"5"},Z={class:"peers fxw-nw ai-c jc-sb"},z=(0,a.createElementVNode)("div",{class:"peer"},[(0,a.createElementVNode)("h2",null,"HOUSEHOLDS")],-1),U={class:"peer mL-10"},P=(0,a.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,a.createElementVNode)("th",null,"Name"),(0,a.createElementVNode)("th",null,"Barangay"),(0,a.createElementVNode)("th",{colspan:"2"},"Risk Score"),(0,a.createElementVNode)("th",null,"Risk Assessment")],-1),$={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-clipboard-check-fill",style:{color:"#04cc18"},viewBox:"0 0 16 16"},O=[(0,a.createElementVNode)("path",{d:"M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"},null,-1),(0,a.createElementVNode)("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708"},null,-1)],j={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-circle-fill",style:{color:"#d11e06"},viewBox:"0 0 16 16"},G=[(0,a.createElementVNode)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"},null,-1)];var W=n(7757),Y=n.n(W),q=(n(9038),n(8248)),J=n(1980);function K(e,t,n,a,l,r,o){try{var c=e[r](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,l)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(a,l){var r=e.apply(t,n);function o(e){K(r,a,l,o,c,"next",e)}function c(e){K(r,a,l,o,c,"throw",e)}o(void 0)}))}}const X={props:{data:Object,filters:Object},components:{Pagination:J.Z,Filtering:q.Z},computed:{},data:function(){return{count_per_page:10,bar:"",mun:"",pur:"",search:this.$props.filters.search,view:"mun",all_barangays:[],all_households:[],mun_filter:"",bar_filter:"",household_search:""}},watch:{search:_.debounce((function(e){this.$inertia.get("/issue",{search:e},{preserveScroll:!0,preserveState:!0,replace:!0})}),300)},methods:{filterData:function(){var e=this;return Q(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$inertia.get("/households",{count_per_page:e.count_per_page,pur:e.pur,bar:e.bar,mun:e.mun},{preserveScroll:!0,preserveState:!0,replace:!0});case 1:case"end":return t.stop()}}),t)})))()},deleteIssue:function(e){1==confirm("WARNING!\nAre you sure you want to delete this issue?"+e)&&this.$inertia.delete("/issue/"+e)},getBarangayData:function(){var e=this;return Q(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:axios.get("/sanitation-assessment/"+e.mun).then((function(t){e.all_barangays=t.data}));case 1:case"end":return t.stop()}}),t)})))()},getHouseholdDataMunicipality:function(e){var t=this;return Q(Y().mark((function n(){return Y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.mun_filter=e,axios.get("/sanitation-assessment/mun/"+e,{params:{search:t.household_search,count_per_page:t.count_per_page}}).then((function(e){t.all_households=e.data}));case 2:case"end":return n.stop()}}),n)})))()},getHouseholdDataBarangay:function(e){var t=this;return Q(Y().mark((function n(){return Y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.bar_filter=e,axios.get("/sanitation-assessment/bar/"+e,{params:{search:t.household_search,count_per_page:t.count_per_page}}).then((function(e){t.all_households=e.data}));case 2:case"end":return n.stop()}}),n)})))()},searchHouseholds:function(){var e=this;return Q(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.bar_filter?e.getHouseholdDataBarangay(e.bar_filter):e.mun_filter&&e.getHouseholdDataMunicipality(e.mun_filter);case 1:case"end":return t.stop()}}),t)})))()}}};const ee=(0,n(3744).Z)(X,[["render",function(e,t,n,_,W,Y){var q=(0,a.resolveComponent)("Head"),J=(0,a.resolveComponent)("pagination");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(q,null,{default:(0,a.withCtx)((function(){return[l]})),_:1}),(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",o,[c,(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",i,[u,(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return W.view=e})},d,512),[[a.vModelSelect,W.view]])]),"bar"==W.view?((0,a.openBlock)(),(0,a.createElementBlock)("div",m,[p,(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return W.mun=e}),onChange:t[2]||(t[2]=function(){return Y.getBarangayData&&Y.getBarangayData.apply(Y,arguments)})},[h,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.municipalities_global,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("option",{key:e},(0,a.toDisplayString)(e),1)})),128))],544),[[a.vModelSelect,W.mun]])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",v,[E,(0,a.withDirectives)((0,a.createElementVNode)("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return W.count_per_page=e}),onClick:t[4]||(t[4]=function(){return Y.filterData&&Y.filterData.apply(Y,arguments)})},N,512),[[a.vModelSelect,W.count_per_page]])])])]),(0,a.createElementVNode)("div",V,[(0,a.createElementVNode)("div",g,[(0,a.createElementVNode)("div",f,[(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("table",y,["mun"==W.view?((0,a.openBlock)(),(0,a.createElementBlock)("thead",b,w)):(0,a.createCommentVNode)("",!0),"mun"==W.view?((0,a.openBlock)(),(0,a.createElementBlock)("tbody",B,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.data,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",null,[(0,a.createElementVNode)("td",null,[(0,a.createElementVNode)("a",{href:"#",class:"text-blue-600 hover:underline",onClick:(0,a.withModifiers)((function(t){return Y.getHouseholdDataMunicipality(e.municipality)}),["prevent"])},(0,a.toDisplayString)(e.municipality),9,x)]),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.sanitation_status),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.relative_risk_assessment),1)])})),256))])):(0,a.createCommentVNode)("",!0),"bar"==W.view?((0,a.openBlock)(),(0,a.createElementBlock)("thead",S,[W.mun?((0,a.openBlock)(),(0,a.createElementBlock)("tr",D,[(0,a.createElementVNode)("th",C,[(0,a.createElementVNode)("h2",null,"MUNICIPALITY OF "+(0,a.toDisplayString)(W.mun.toUpperCase()),1)])])):(0,a.createCommentVNode)("",!0),M])):(0,a.createCommentVNode)("",!0),"bar"==W.view?((0,a.openBlock)(),(0,a.createElementBlock)("tbody",L,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(W.all_barangays,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",null,[(0,a.createElementVNode)("td",null,[(0,a.createElementVNode)("a",{href:"#",class:"text-blue-600 hover:underline",onClick:(0,a.withModifiers)((function(t){return Y.getHouseholdDataBarangay(e.barangay)}),["prevent"])},(0,a.toDisplayString)(e.barangay),9,A)]),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.relative_risk_assessment),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.sanitation_status),1)])})),256))])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(J,{next:n.data.next_page_url,prev:n.data.prev_page_url},null,8,["next","prev"])])])]),W.bar_filter||W.mun_filter?((0,a.openBlock)(),(0,a.createElementBlock)("div",H,[(0,a.createElementVNode)("div",I,[(0,a.createElementVNode)("div",R,[(0,a.createElementVNode)("table",F,[(0,a.createElementVNode)("thead",null,[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",T,[(0,a.createElementVNode)("div",Z,[z,(0,a.createElementVNode)("div",U,[(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return W.household_search=e}),onInput:t[6]||(t[6]=function(){return Y.searchHouseholds&&Y.searchHouseholds.apply(Y,arguments)}),type:"text",class:"form-control",placeholder:"Search households..."},null,544),[[a.vModelText,W.household_search]])])])])]),P]),(0,a.createElementVNode)("tbody",null,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(W.all_households.data,(function(e){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",null,[(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.LAST_NAME)+", "+(0,a.toDisplayString)(e.FIRST_NAME)+" "+(0,a.toDisplayString)(e.MIDDLE_NAME),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.barangay),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.risk_level),1),(0,a.createElementVNode)("td",null,[e.risk_level>=11?((0,a.openBlock)(),(0,a.createElementBlock)("svg",$,O)):((0,a.openBlock)(),(0,a.createElementBlock)("svg",j,G))]),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(e.relative_risk_assessment),1)])})),256))])])])])])):(0,a.createCommentVNode)("",!0)])])],64)}]])},8248:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(821),l={id:"sidebar-wrapper",class:"sidebar-nav nav navbar-inverse"},r={class:"row",style:{width:"380px"}},o={class:"bgc-white"},c={class:"modal-header"},s=(0,a.createElementVNode)("h5",{class:"modal-title",id:"exampleModalLiveLabel"},"Filtering",-1),i={class:"modal-body"};const u={props:{title:String}};var d=n(3379),m=n.n(d),p=n(9031),h={insert:"head",singleton:!1};m()(p.Z,h);p.Z.locals;const v=(0,n(3744).Z)(u,[["render",function(e,t,n,u,d,m){return(0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",o,[(0,a.createElementVNode)("div",c,[s,(0,a.createElementVNode)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeFilter")})})]),(0,a.createElementVNode)("div",i,[(0,a.renderSlot)(e.$slots,"default")])])])])}]])},1980:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(821),l={class:"pagination"},r={class:"page-item"},o=(0,a.createTextVNode)("Previous"),c={class:"page-item"},s=(0,a.createTextVNode)("Next");const i={props:{prev:String,next:String}};const u=(0,n(3744).Z)(i,[["render",function(e,t,n,i,u,d){var m=(0,a.resolveComponent)("Link");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("ul",l,[(0,a.createElementVNode)("li",r,[n.prev?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,class:"page-link",href:n.prev,"preserve-scroll":""},{default:(0,a.withCtx)((function(){return[o]})),_:1},8,["href"])):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:1,class:(0,a.normalizeClass)(["page-link",{"text-muted":!n.prev}])},"Previous",2))]),(0,a.createElementVNode)("li",c,[n.next?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,class:"page-link",href:n.next,"preserve-scroll":""},{default:(0,a.withCtx)((function(){return[s]})),_:1},8,["href"])):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:1,class:(0,a.normalizeClass)(["page-link",{"text-muted":!n.next}])},"Next",2))])])])}]])}}]);