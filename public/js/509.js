"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[509],{9509:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var n=a(821),o=(0,n.createElementVNode)("title",null,"Map Them",-1),i={class:"row gap-20 masonry pos-r"},r={class:"peers fxw-nw jc-sb ai-c"},l=(0,n.createElementVNode)("h3",null,"Map",-1),s=(0,n.createTextVNode)("Show Map"),p={class:"bgc-white p-20 bd"},c=(0,n.createElementVNode)("div",{id:"mapHeatContainer",style:{width:"1200px",height:"500px"}},null,-1),d={ref:"mapContainer",style:{width:"1200px",height:"500px"}},h=(0,n.createTextVNode)(" heat -map overlay"),m=(0,n.createElementVNode)("br",null,null,-1);var u=a(5243),g=a.n(u),f=(a(5215),a(974)),v=a.n(f);(0,n.ref)(0),(0,n.ref)(0),(0,n.ref)(),(0,n.ref)();const y={components:{},props:{data:{type:Array,required:!0}},data:function(){return{lat_val:0,lng_val:0,map:null,heatmapLayer:null,heatData:[]}},beforeMount:function(){this.getLocation()},mounted:function(){this.getLocation()},methods:{getLocation:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.lat_val=t.coords.latitude,e.lng_val=t.coords.longitude,e.initMap()})):alert("Geolocation is not supported by this browser.")},initMap:function(){if(this.$refs.mapContainer){this.map=g().map(this.$refs.mapContainer).setView([this.lat_val,this.lng_val],13),g().tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map);var e={max:8,data:this.data.map((function(e){return{lat:e[0],lng:e[1],count:e[2]}}))};this.heatData=e;this.heatmapLayer=new(v())({radius:.05,maxOpacity:.8,scaleRadius:!0,useLocalExtrema:!0,latField:"lat",lngField:"lng",valueField:"count"}),this.map=new(g().map)("mapHeatContainer",{center:new(g().LatLng)(50.339247,9.902947),zoom:8}),this.heatmapLayer.setData(e),this.heatmapLayer.addTo(this.map)}},generateHeatmap:function(){if(this.map){this.heatmapLayer&&this.map.removeLayer(this.heatmapLayer);var e={max:8,data:this.data.map((function(e){return{lat:e[0],lng:e[1],count:e[2]}}))};alert(e),this.heatmapLayer=new(v())({radius:.05,maxOpacity:.8,scaleRadius:!0,useLocalExtrema:!0,latField:"lat",lngField:"lng",valueField:"count"}),this.heatData=e,this.heatmapLayer.addTo(this.map),this.heatmapLayer.setData(e)}else alert("Map is not initialized yet.")}}};const L=(0,a(3744).Z)(y,[["render",function(e,t,a,u,g,f){var v=(0,n.resolveComponent)("Head"),y=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(v,null,{default:(0,n.withCtx)((function(){return[o]})),_:1}),(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",r,[l,(0,n.createVNode)(y,{href:""},{default:(0,n.withCtx)((function(){return[s]})),_:1})]),(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("button",{onClick:t[0]||(t[0]=function(e){return f.getLocation()})},"Get Location"),(0,n.createElementVNode)("button",{onClick:t[1]||(t[1]=function(e){return f.generateHeatmap()})},"Generate Heatmap"),(0,n.createTextVNode)(" Â "+(0,n.toDisplayString)(g.lat_val)+", "+(0,n.toDisplayString)(g.lng_val)+" ",1),c,(0,n.createElementVNode)("div",d,null,512),h,m,(0,n.createTextVNode)((0,n.toDisplayString)(g.heatData),1)])])],64)}]])}}]);