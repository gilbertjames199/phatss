"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5189],{5189:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var o=n(821),r={class:"relative row gap-20 masonry pos-r"},l={class:"peers fxw-nw jc-sb ai-c"},i=(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5.0-.708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),s={class:"col-md-8"},a=(0,o.createElementVNode)("input",{type:"hidden",required:""},null,-1),c=(0,o.createElementVNode)("label",null,"Intervention",-1),d={key:0,class:"fs-6 c-red-500"},u=(0,o.createElementVNode)("label",null,"Type",-1),m={key:1,class:"fs-6 c-red-500"},p=(0,o.createElementVNode)("br",null,null,-1),f=(0,o.createElementVNode)("br",null,null,-1),h=(0,o.createElementVNode)("br",null,null,-1),v=(0,o.createElementVNode)("br",null,null,-1),y=(0,o.createElementVNode)("br",null,null,-1),b=(0,o.createElementVNode)("br",null,null,-1),V=(0,o.createElementVNode)("br",null,null,-1),E=(0,o.createElementVNode)("br",null,null,-1),N=(0,o.createElementVNode)("br",null,null,-1),w=["disabled"];var g=n(9038);const k={props:{type:Object,editData:Object},components:{},data:function(){return{submitted:!1,form:(0,g.cI)({description:"",types:[],id:null}),intervention_types:[]}},mounted:function(){this.getInterventionsAll(),void 0!==this.editData?(this.pageTitle="Edit",this.form.description=this.editData.description,this.extractTypeIds(this.editData.type_tags),this.form.id=this.editData.id):(this.pageTitle="Create ",this.setCurrentYear())},methods:{submit:function(){if(void 0!==this.editData)this.form.patch("/intervention/update",this.form);else{this.form.post("/intervention/store")}},setCurrentYear:function(){var e=(new Date).getFullYear();this.form.year=parseFloat(e)+1},getInterventionsAll:function(){var e=this;this.intervention_types=[],this.type.forEach((function(t){e.intervention_types.push({id:t.id,value:t.id,label:t.type})}))},extractTypeIds:function(e){var t=this;this.form.types=[],e.forEach((function(e){e.types&&e.types.length>0&&e.types.forEach((function(e){t.form.types.push(e.id)}))}))},goBack:function(){window.history.length>1?window.history.back():this.$router?this.$router.push("/"):window.location.href="/"}}};const C=(0,n(3744).Z)(k,[["render",function(e,t,n,g,k,C){var x=(0,o.resolveComponent)("Link"),D=(0,o.resolveComponent)("multiselect");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.pageTitle)+" Intervention",1),(0,o.createVNode)(x,{onClick:C.goBack,class:"back-button"},{default:(0,o.withCtx)((function(){return[i]})),_:1},8,["onClick"])]),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("form",{onSubmit:t[5]||(t[5]=(0,o.withModifiers)((function(e){return C.submit()}),["prevent"]))},[a,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=function(e){return k.form.idpaps=e}),class:"form-control",autocomplete:"positionchrome-off"},null,512),[[o.vModelText,k.form.idpaps]]),c,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return k.form.description=e})},null,512),[[o.vModelText,k.form.description]]),k.form.errors.description?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,(0,o.toDisplayString)(k.form.errors.description),1)):(0,o.createCommentVNode)("",!0),u,(0,o.createVNode)(D,{modelValue:k.form.types,"onUpdate:modelValue":t[2]||(t[2]=function(e){return k.form.types=e}),options:k.intervention_types,mode:"tags",searchable:!0},null,8,["modelValue","options"]),k.form.errors.types?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,(0,o.toDisplayString)(k.form.errors.types),1)):(0,o.createCommentVNode)("",!0),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[3]||(t[3]=function(e){return k.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[o.vModelText,k.form.id]]),p,f,h,v,y,b,V,E,N,(0,o.createElementVNode)("button",{type:"button",class:"btn text-white btn-primary mt-3 text-white",onClick:t[4]||(t[4]=function(e){return C.submit()}),disabled:k.form.processing}," Save changes ",8,w)],32)])])}]])}}]);