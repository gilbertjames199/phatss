"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7721,3458],{9589:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(3645),l=n.n(o)()((function(e){return e[1]}));l.push([e.id,".modal[data-v-083ce0b9]{display:block}",""]);const r=l},7721:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var o=n(821),l={class:"relative row gap-20 masonry pos-r"},r={class:"peers fxw-nw jc-sb ai-c"},i=(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5.0-.708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),a={class:"col-md-8"},s=(0,o.createElementVNode)("input",{type:"hidden",required:""},null,-1),d=(0,o.createElementVNode)("label",null,"Intervention",-1),c={key:0,class:"fs-6 c-red-500"},u=(0,o.createElementVNode)("label",null,"Type",-1),m={key:1,class:"fs-6 c-red-500"},p=(0,o.createElementVNode)("br",null,null,-1),f=(0,o.createElementVNode)("br",null,null,-1),h=(0,o.createElementVNode)("br",null,null,-1),v=(0,o.createElementVNode)("br",null,null,-1),b=(0,o.createElementVNode)("br",null,null,-1),V=(0,o.createElementVNode)("br",null,null,-1),y=(0,o.createElementVNode)("br",null,null,-1),E=(0,o.createElementVNode)("br",null,null,-1),N=(0,o.createElementVNode)("br",null,null,-1),g=["disabled"];var w=n(9038),k=n(3458);const C={props:{type:Object,editData:Object},components:{PermissionsModal:k.default},data:function(){return{submitted:!1,form:(0,w.cI)({description:"",types:[],id:null}),intervention_types:[]}},mounted:function(){this.getInterventionsAll(),void 0!==this.editData?(this.pageTitle="Edit",this.form.description=this.editData.description,this.extractTypeIds(this.editData.type_tags),this.form.id=this.editData.id):(this.pageTitle="Create ",this.setCurrentYear())},methods:{submit:function(){if(void 0!==this.editData)this.form.patch("/intervention/update",this.form);else{this.form.post("/intervention/store")}},setCurrentYear:function(){var e=(new Date).getFullYear();this.form.year=parseFloat(e)+1},getInterventionsAll:function(){var e=this;this.intervention_types=[],this.type.forEach((function(t){e.intervention_types.push({id:t.id,value:t.id,label:t.type})}))},extractTypeIds:function(e){var t=this;this.form.types=[],e.forEach((function(e){e.types&&e.types.length>0&&e.types.forEach((function(e){t.form.types.push(e.id)}))}))},goBack:function(){window.history.length>1?window.history.back():this.$router?this.$router.push("/"):window.location.href="/"}}};const x=(0,n(3744).Z)(C,[["render",function(e,t,n,w,k,C){var x=(0,o.resolveComponent)("Link"),D=(0,o.resolveComponent)("multiselect");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.pageTitle)+" Intervention",1),(0,o.createVNode)(x,{onClick:C.goBack,class:"back-button"},{default:(0,o.withCtx)((function(){return[i]})),_:1},8,["onClick"])]),(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("form",{onSubmit:t[5]||(t[5]=(0,o.withModifiers)((function(e){return C.submit()}),["prevent"]))},[s,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=function(e){return k.form.idpaps=e}),class:"form-control",autocomplete:"positionchrome-off"},null,512),[[o.vModelText,k.form.idpaps]]),d,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return k.form.description=e})},null,512),[[o.vModelText,k.form.description]]),k.form.errors.description?((0,o.openBlock)(),(0,o.createElementBlock)("div",c,(0,o.toDisplayString)(k.form.errors.description),1)):(0,o.createCommentVNode)("",!0),u,(0,o.createVNode)(D,{modelValue:k.form.types,"onUpdate:modelValue":t[2]||(t[2]=function(e){return k.form.types=e}),options:k.intervention_types,mode:"tags",searchable:!0},null,8,["modelValue","options"]),k.form.errors.types?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,(0,o.toDisplayString)(k.form.errors.types),1)):(0,o.createCommentVNode)("",!0),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[3]||(t[3]=function(e){return k.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[o.vModelText,k.form.id]]),p,f,h,v,b,V,y,E,N,(0,o.createElementVNode)("button",{type:"button",class:"btn text-white btn-primary mt-3 text-white",onClick:t[4]||(t[4]=function(e){return C.submit()}),disabled:k.form.processing}," Save changes ",8,g)],32)])])}]])},3458:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var o=n(821),l=function(e){return(0,o.pushScopeId)("data-v-083ce0b9"),e=e(),(0,o.popScopeId)(),e},r={class:"permissions-modal"},i={class:"modal",tabindex:"-1",role:"dialog"},a={class:"modal-dialog",role:"document"},s={class:"modal-content"},d={class:"modal-header"},c=l((function(){return(0,o.createElementVNode)("h4",{class:"modal-title"},"User Permissions ",-1)})),u=[l((function(){return(0,o.createElementVNode)("span",{"aria-hidden":"true"},"Ã—",-1)}))],m={class:"modal-body"},p=l((function(){return(0,o.createElementVNode)("div",{class:"modal-footer"},null,-1)}));const f={props:{},data:function(){return{value:null,options:["Batman","Robin","Joker"]}},mounted:function(){},methods:{logU_ID:function(){},closeModal:function(){this.$emit("close-modal-event")},saveChanges:function(){this.closeModal()},loadPermissions:function(){}}};var h=n(3379),v=n.n(h),b=n(9589),V={insert:"head",singleton:!1};v()(b.Z,V);b.Z.locals;const y=(0,n(3744).Z)(f,[["render",function(e,t,n,l,f,h){return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",d,[c,(0,o.createElementVNode)("button",{type:"button",class:"btn btn-danger",style:{"font-weight":"bold",color:"white"},"data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return h.closeModal&&h.closeModal.apply(h,arguments)})},u)]),(0,o.createElementVNode)("div",m,[(0,o.renderSlot)(e.$slots,"default",{},void 0,!0)]),p])])])])}],["__scopeId","data-v-083ce0b9"]])}}]);