"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8393],{9121:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(3645),l=o.n(n)()((function(e){return e[1]}));l.push([e.id,"#app,body,html{box-sizing:border-box;height:100%;margin:0;padding:0;width:100%}.map{height:100vh;position:relative;width:100%}@media (max-width:768px){.map{height:80vh;height:70vh;width:100%}}.directions-container{background-color:#fafafa;border:1px solid #ccc;font-size:14px;height:250px;overflow-y:auto;padding:10px}.directions-container div{border-bottom:1px solid #eee;padding:5px}.directions-container div:last-child{border-bottom:none}.leaflet-routing-container{background-color:hsla(0,0%,100%,.9)!important;border-radius:5px;font-size:10px!important;padding:8px}.leaflet-routing-container .leaflet-routing-alt h2,.leaflet-routing-container .leaflet-routing-alt h3{font-size:14px!important;line-height:1.4!important}.suggestions{background-color:#fff;border:1px solid #ccc;list-style:none;margin:0;max-height:150px;overflow-y:auto;padding:0}.suggestions li{cursor:pointer;padding:8px}.suggestions li:hover{background-color:#f0f0f0}.table-container{border:2px solid #000!important;padding:5px}",""]);const a=l},8393:(e,t,o)=>{o.r(t),o.d(t,{default:()=>B});var n=o(821),l={class:"relative row gap-20 masonry pos-r"},a={class:"peers fxw-nw jc-sb ai-c"},r=(0,n.createElementVNode)("h1",null,"Nearest Response Center Backup",-1),i=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),c={id:"app"},d={class:"row"},s={class:"col-md-3 position-relative"},p={class:"table-container"},m={class:"table-responsive"},u={class:"table table-bordered"},h=(0,n.createElementVNode)("tr",{style:{"background-color":"dimgray",color:"white"}},[(0,n.createElementVNode)("th",{colspan:"2"},"ISSUE DETAILS")],-1),g=(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("b",null,"Description:")],-1),E=(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("b",null,"Location:")],-1),N=(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("b",null,"Type: ")],-1),f=(0,n.createElementVNode)("tr",{style:{"background-color":"dimgray",color:"white"}},[(0,n.createElementVNode)("th",{colspan:"2"},"NEAREST HEALTH/RESPONSE CENTER")],-1),b=(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("b",null,"Center name:")],-1),V={key:0},v={key:1},y=(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("b",null,"Distance: ")],-1),x=(0,n.createElementVNode)("div",{class:"col-md-9 position-relative"},[(0,n.createElementVNode)("div",{id:"map",class:"map"})],-1),w=(0,n.createElementVNode)("div",{class:"col-md-4 position-relative",hidden:""},[(0,n.createElementVNode)("div",{id:"directions",class:"directions-container"})],-1);var k=o(5243),S=o.n(k);o(7820);const _={props:{long_from:Number,lat_from:Number,long_to:Number,lat_to:Number,nhc:Object,issue:Object},components:{},data:function(){return{map:null}},watch:{},mounted:function(){this.initializeMap()},beforeDestroy:function(){this.map&&this.map.remove()},methods:{initializeMap:function(){var e=this;parseFloat(this.lat_to),parseFloat(this.lat_from),parseFloat(this.long_to),parseFloat(this.long_from);this.map=S().map("map").setView([this.lat_to,this.long_from],13),S().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(this.map),S().marker([this.lat_from,this.long_from]).addTo(this.map).bindPopup("Start Location").openPopup(),S().marker([this.lat_to,this.long_to]).addTo(this.map).bindPopup("Nearest Center").openPopup(),S().Routing.control({waypoints:[S().latLng(this.lat_from,this.long_from),S().latLng(this.lat_to,this.long_to)],routeWhileDragging:!0,createMarker:function(){return null},lineOptions:{styles:[{color:"red",weight:4}]},show:!1}).on("routesfound",(function(t){e.displayRouteSteps(t.routes[0])})).addTo(this.map)},displayRouteSteps:function(e){var t=document.getElementById("directions");t.innerHTML="",e.instructions.forEach((function(e,o){var n=document.createElement("div");n.innerHTML="<strong>".concat(o+1,".</strong> ").concat(e.text," - <em>").concat((e.distance/1e3).toFixed(2)," km</em>"),t.appendChild(n)}))}}};var D=o(3379),C=o.n(D),T=o(9121),L={insert:"head",singleton:!1};C()(T.Z,L);T.Z.locals;const B=(0,o(3744).Z)(_,[["render",function(e,t,o,k,S,_){var D=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createElementVNode)("div",a,[r,(0,n.createVNode)(D,{href:"/issue"},{default:(0,n.withCtx)((function(){return[i]})),_:1})]),(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("div",m,[(0,n.createElementVNode)("table",u,[h,(0,n.createElementVNode)("tr",null,[g,(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("u",null,(0,n.toDisplayString)(o.issue.issue),1)])]),(0,n.createElementVNode)("tr",null,[E,(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("u",null,(0,n.toDisplayString)(o.issue.barangay),1)])]),(0,n.createElementVNode)("tr",null,[N,(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("u",null,(0,n.toDisplayString)(o.issue.type),1)])]),f,(0,n.createElementVNode)("tr",null,[b,(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("u",null,["Provincial Hospital"===o.nhc.DESC?((0,n.openBlock)(),(0,n.createElementBlock)("span",V,"Davao de Oro "+(0,n.toDisplayString)(o.nhc.DESC)+", "+(0,n.toDisplayString)(o.nhc.municipality),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",v,(0,n.toDisplayString)(o.nhc.type)+", "+(0,n.toDisplayString)(o.nhc.municipality),1))])])]),(0,n.createElementVNode)("tr",null,[y,(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("u",null,(0,n.toDisplayString)(e.format_number(o.nhc.distance,2,!0))+"Â KM",1)])])])])])]),x,w])])])}]])}}]);