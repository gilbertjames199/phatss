"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8299],{1172:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(3645),l=n.n(o)()((function(e){return e[1]}));l.push([e.id,".mapdiv[data-v-d640953e]{height:500px;width:100%}",""]);const r=l},8299:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ge});var o=n(821),l=function(e){return(0,o.pushScopeId)("data-v-d640953e"),e=e(),(0,o.popScopeId)(),e},r={class:"row gap-20 masonry pos-r"},a={class:"masonry-item w-100"},i={class:"row gap-20"},s={class:"col-md-9"},c=l((function(){return(0,o.createElementVNode)("div",{class:"layers bd bgc-white p-20"},[(0,o.createElementVNode)("div",{id:"leafletMapid",class:"mapdiv border border-dark"})],-1)})),u={class:"layers bd bgc-white p-20"},d={class:"layer w-100 mB-10"},m=l((function(){return(0,o.createElementVNode)("h4",null,[(0,o.createTextVNode)("FILTERS"),(0,o.createElementVNode)("br")],-1)})),p=l((function(){return(0,o.createElementVNode)("hr",null,null,-1)})),h=l((function(){return(0,o.createElementVNode)("b",null,"Municipality:",-1)})),N=(0,o.createTextVNode)("   "),_=l((function(){return(0,o.createElementVNode)("option",null,null,-1)})),g=(0,o.createTextVNode)("   "),V=l((function(){return(0,o.createElementVNode)("b",null,"Barangays: ",-1)})),f=l((function(){return(0,o.createElementVNode)("option",null,null,-1)})),E=(0,o.createTextVNode)("   "),y=l((function(){return(0,o.createElementVNode)("b",null,"Puroks: ",-1)})),v=l((function(){return(0,o.createElementVNode)("option",null,null,-1)})),b=(0,o.createTextVNode)("   "),k=l((function(){return(0,o.createElementVNode)("b",null,"Type: ",-1)})),x=[l((function(){return(0,o.createElementVNode)("option",null,null,-1)})),l((function(){return(0,o.createElementVNode)("option",null,"G0",-1)})),l((function(){return(0,o.createElementVNode)("option",null,"G1",-1)})),l((function(){return(0,o.createElementVNode)("option",null,"G2",-1)})),l((function(){return(0,o.createElementVNode)("option",null,"G3",-1)}))],w=l((function(){return(0,o.createElementVNode)("br",null,null,-1)})),S=l((function(){return(0,o.createElementVNode)("b",null,"Additional Filters: ",-1)})),D=[(0,o.createStaticVNode)('<option data-v-d640953e></option><option value="_1_has_toilet" data-v-d640953e>Households with no toilet</option><option value="_2_toilet_used" data-v-d640953e>Households with toilet but not being used</option><option value="_3_toilet_functional" data-v-d640953e>Households with toilet but is not functional/well-maintained</option><option value="_4_soap" data-v-d640953e>Households with no access to nearby soap and water</option><option value="_5_children" data-v-d640953e>Children, elderly, or PWD&#39;s feces and diapers not properly disposed</option><option value="_6_spaces" data-v-d640953e>Feces found in open spaces in the community</option><option value="_7_feces" data-v-d640953e>Feces, sanitary napkins, diapers, and solid waste found in open spaces in the community</option><option value="_8_composting" data-v-d640953e>Households that do not practice segregation or composting</option><option value="_9_dispose" data-v-d640953e>Households that do not dispose their garbage properly</option><option value="_10_emptied" data-v-d640953e>Have not emptied their septic tank</option><option value="_15_household" data-v-d640953e>Households that use a shared toilet</option><option value="_16_household" data-v-d640953e>Households that use a communal/public toilet</option><option value="_17_using" data-v-d640953e>Households not using their own toilet</option>',14)],T=l((function(){return(0,o.createElementVNode)("br",null,null,-1)})),P=l((function(){return(0,o.createElementVNode)("hr",null,null,-1)})),M=l((function(){return(0,o.createElementVNode)("h4",null,"Additional Details",-1)})),F=l((function(){return(0,o.createElementVNode)("b",null,"Count: ",-1)})),C=(0,o.createTextVNode)(),H={key:0,class:"col-md-3"},B={class:"layers bd bgc-white p-20"},L={class:"layer w-100 mB-10"},A={class:"d-flex justify-content-between align-items-center"},O=l((function(){return(0,o.createElementVNode)("h4",null,"Details",-1)})),I=[l((function(){return(0,o.createElementVNode)("b",null,"X",-1)}))],R=l((function(){return(0,o.createElementVNode)("hr",null,null,-1)})),G=l((function(){return(0,o.createElementVNode)("strong",null,"Name:",-1)})),j=(0,o.createTextVNode)(),$=l((function(){return(0,o.createElementVNode)("strong",null,"Address:",-1)})),Z=(0,o.createTextVNode)(),U=l((function(){return(0,o.createElementVNode)("strong",null,"Precision:",-1)})),W=(0,o.createTextVNode)(),Y=l((function(){return(0,o.createElementVNode)("strong",null,"Risk Level:",-1)})),z=(0,o.createTextVNode)(),X=l((function(){return(0,o.createElementVNode)("strong",null,"Relative Risk Assessment:",-1)})),q=(0,o.createTextVNode)(),J=l((function(){return(0,o.createElementVNode)("strong",null,"Coordinates:",-1)})),K=(0,o.createTextVNode)(),Q=l((function(){return(0,o.createElementVNode)("strong",null,"1.) Is there a toilet?",-1)})),ee=(0,o.createTextVNode)(),te=l((function(){return(0,o.createElementVNode)("strong",null,"2.) Is it being used?",-1)})),ne=(0,o.createTextVNode)(),oe=l((function(){return(0,o.createElementVNode)("strong",null,"3.) Is the toilet functional and well maintained?",-1)})),le=(0,o.createTextVNode)(),re=l((function(){return(0,o.createElementVNode)("strong",null,"4.) Is there soap and water at or near the toilet?",-1)})),ae=(0,o.createTextVNode)(),ie=l((function(){return(0,o.createElementVNode)("strong",null,[(0,o.createTextVNode)("5.) Are children, elderly, and PWDs' feces and diaper properly disposed? "),(0,o.createElementVNode)("br"),(0,o.createTextVNode)("(Y/N/NA if there are no children, elderly, and PWD members in the household)")],-1)})),se=(0,o.createTextVNode)(),ce=l((function(){return(0,o.createElementVNode)("strong",null,"6.) Are there no more feces found in open spaces in the community?",-1)})),ue=(0,o.createTextVNode)(),de=l((function(){return(0,o.createElementVNode)("strong",null,[(0,o.createTextVNode)("7.) Are there no feces, sanitary napkins, diapers, and solid waste found in "),(0,o.createElementVNode)("br"),(0,o.createTextVNode)("open spaces in the community? (Y/N)")],-1)})),me=(0,o.createTextVNode)(),pe=l((function(){return(0,o.createElementVNode)("strong",null,"8.) Does the household practice waste segregation and/or composting? G2",-1)})),he=(0,o.createTextVNode)(),Ne=l((function(){return(0,o.createElementVNode)("strong",null,"9.) Does the household dispose of their garbage properly? G2",-1)})),_e=(0,o.createTextVNode)(),ge=l((function(){return(0,o.createElementVNode)("strong",null,"10.) Have you ever emptied your septic tank or pit? (Y/N) G3",-1)})),Ve=(0,o.createTextVNode)(),fe=l((function(){return(0,o.createElementVNode)("strong",null,"11.) Is there a Municipal Sewerage Treatment Facility?",-1)})),Ee=(0,o.createTextVNode)(),ye=l((function(){return(0,o.createElementVNode)("strong",null,"12.) Does the household use a shared toilet? (G1)",-1)})),ve=(0,o.createTextVNode)(),be=l((function(){return(0,o.createElementVNode)("strong",null,"13.) Does the household use a communal/public toilet? (G1)",-1)})),ke=(0,o.createTextVNode)(),xe=l((function(){return(0,o.createElementVNode)("strong",null,"14.) Is the household using their own toilet?",-1)})),we=(0,o.createTextVNode)(),Se=l((function(){return(0,o.createElementVNode)("strong",null,"15.) Visit the Materials Recovery Facility (MRF) in the barangay. Is the MRF Functional?",-1)})),De=(0,o.createTextVNode)(),Te=l((function(){return(0,o.createElementVNode)("button",null,null,-1)})),Pe=l((function(){return(0,o.createElementVNode)("div",null,null,-1)})),Me=l((function(){return(0,o.createElementVNode)("div",{class:"col-md-3"},null,-1)}));var Fe=n(974),Ce=n.n(Fe),He=n(5243),Be=n.n(He);const Le={components:{},props:{count:String,p_mun:String,p_bar:String,p_pur:String,p_relrisk:String,p_my_filter:String,p_data:Object,barangays:Object,municipalities:Object,puroks:Object,g0:Object,g1:Object,g2:Object,g3:Object},data:function(){return{myData:{max:5,data:this.$props.p_data,lat_val:0,lng_val:0},selectedMarker:null,baseLayer:null,heatmapLayer:null,map:null,mun:this.$props.p_mun,bar:this.$props.p_bar,relrisk:this.$props.p_relrisk,pur:this.$props.p_pur,my_filter:this.$props.p_my_filter,home_lang:null,home_lat:null,selectedPoint:null}},watch:{},computed:{},mounted:function(){this.initMap()},methods:{getLocation:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.lat_val=t.coords.latitude,e.lng_val=t.coords.longitude,e.initMap()})):alert("Geolocation is not supported by this browser.")},initMap:function(){if(this.getLocation(),0!=this.lat_val&&0!=this.lng_val){this.baseLayer=Be().tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://cloudmade.com">CloudMade</a>',maxZoom:18,minZoom:0});this.heatmapLayer=new(Ce())({radius:10,blur:1,maxOpacity:.5,scaleRadius:!1,useLocalExtrema:!0,latField:"x",lngField:"y",valueField:"count"}),this.home_lat=7.6165921,this.home_lang=126.0364403;var e=9;this.mun&&(this.setCoords(),e=11),this.map=new(Be().map)("leafletMapid",{center:new(Be().LatLng)(this.home_lat,this.home_lang),zoom:e}),this.heatmapLayer.setData(this.myData),this.baseLayer.addTo(this.map),this.heatmapLayer.addTo(this.map),this.addHoverTooltips(),this.addMarkers()}},filter_me:function(e){"mun"===e&&(this.bar="",this.pur=""),"bar"===e&&(this.pur=""),this.$inertia.get("/map/heat",{mun:this.mun,bar:this.bar,pur:this.pur,relrisk:this.relrisk,my_filter:this.my_filter},{preserveScroll:!0,preserveState:!0,replace:!0,onSuccess:function(){window.location.reload()}})},clearFilter:function(){this.mun="",this.bar="",this.pur="",this.relrisk="",this.my_filter="",this.filter_me("")},addHoverTooltips:function(){var e=this;this.myData.data.forEach((function(t){var n=Be().circleMarker([t.x,t.y],{radius:5,color:"transparent",fillOpacity:0}),o="\n                <div style=\"text-align: left; font-size: 14px; line-height: 1.5;\">\n                    <span style='text-align: center'><h4>Household Details</h4></span><hr>\n                    <strong>Name:</strong> <u>".concat(t.name||"N/A","</u><br>\n                    <strong>Address:</strong> <u>").concat(t.address||"N/A","</u><br>\n                    <strong>Precision:</strong> <u>").concat(t.precision||"N/A","</u><br>\n                    <strong>Risk Level:</strong> <u>").concat(t.risk_level||"N/A","</u><br>\n                    <strong>Relative Risk Assessment:</strong> <u>").concat(t.relative_risk_assessment||"N/A","</u><br>\n                    <strong>Coordinates:</strong> <u>(").concat(t.x.toFixed(6),", ").concat(t.y.toFixed(6),")</u><br>\n\n                </div>\n            ");n.bindTooltip(o,{permanent:!1,direction:"top"}),n.addTo(e.map)}))},addMarkers:function(){var e=this;this.myData.data.forEach((function(t){Be().circleMarker([t.x,t.y],{radius:5,color:"transparent",fillOpacity:0}).addTo(e.map).on("click",(function(){e.selectedMarker&&e.map.removeLayer(e.selectedMarker),e.selectedMarker=Be().marker([t.x,t.y]).addTo(e.map),e.selectedPoint=t}))}))},setCoords:function(){"Compostela"==this.mun&&(this.home_lat=7.666,this.home_lang=126.0847),"Laak"==this.mun&&(this.home_lat=7.8771,this.home_lang=125.7844),"Mabini"==this.mun&&(this.home_lat=7.2821,this.home_lang=125.8574),"Maco"==this.mun&&(this.home_lat=7.3593,this.home_lang=125.858),"Maragusan"==this.mun&&(this.home_lat=7.3522,this.home_lang=126.1545),"Mawab"==this.mun&&(this.home_lat=7.4969,this.home_lang=125.9588),"Monkayo"==this.mun&&(this.home_lat=7.8514,this.home_lang=126.0458),"Montevista"==this.mun&&(this.home_lat=7.7305,this.home_lang=125.9806),"Nabunturan"==this.mun&&(this.home_lat=7.6038,this.home_lang=125.9632),"New Bataan"==this.mun&&(this.home_lat=7.5547,this.home_lang=126.1404),"Pantukan"==this.mun&&(this.home_lat=7.17728,this.home_lang=126.02043)},getOptionText:function(e){return{_1_has_toilet:"Households with no toilet",_2_toilet_used:"Households with toilet but not being used",_3_toilet_functional:"Households with toilet but is not functional/well-maintained",_4_soap:"Households with no access to nearby soap and water",_5_children:"Children's, elderly's, or PWD's feces and diapers not properly disposed",_6_spaces:"Feces found in open spaces in the community",_7_feces:"Feces, sanitary napkins, diapers, and solid waste found in open spaces in the community",_8_composting:"Households that do not practice segregation or composting",_9_dispose:"Households that do not dispose their garbage properly",_10_emptied:"Have not emptied their septic tank",_15_household:"Households that use a shared toilet",_16_household:"Households that use a communal/public toilet",_17_using:"Households not using their own toilet"}[e]||""},clearSelection:function(){this.selectedMarker&&(this.map.removeLayer(this.selectedMarker),this.selectedMarker=null),this.selectedPoint=null}}};var Ae=n(3379),Oe=n.n(Ae),Ie=n(1172),Re={insert:"head",singleton:!1};Oe()(Ie.Z,Re);Ie.Z.locals;const Ge=(0,n(3744).Z)(Le,[["render",function(e,t,n,l,Fe,Ce){return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("h4",null,(0,o.toDisplayString)(Ce.getOptionText(Fe.my_filter)),1),(0,o.createElementVNode)("div",s,[c,(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",d,[m,p,h,N,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return Fe.mun=e}),onChange:t[1]||(t[1]=function(e){return Ce.filter_me("mun")})},[_,((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.municipalities,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",null,(0,o.toDisplayString)(e),1)})),256))],544),[[o.vModelSelect,Fe.mun]]),g,V,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return Fe.bar=e}),onChange:t[3]||(t[3]=function(e){return Ce.filter_me("bar")})},[f,((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.barangays,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",null,(0,o.toDisplayString)(e),1)})),256))],544),[[o.vModelSelect,Fe.bar]]),E,y,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return Fe.pur=e}),onChange:t[5]||(t[5]=function(e){return Ce.filter_me("pur")})},[v,((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.puroks,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",null,(0,o.toDisplayString)(e),1)})),256))],544),[[o.vModelSelect,Fe.pur]]),b,k,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(e){return Fe.relrisk=e}),onChange:t[7]||(t[7]=function(e){return Ce.filter_me("relrisk")})},x,544),[[o.vModelSelect,Fe.relrisk]]),w,S,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=function(e){return Fe.my_filter=e}),onChange:t[9]||(t[9]=function(e){return Ce.filter_me("relrisk")})},D,544),[[o.vModelSelect,Fe.my_filter]]),T,(0,o.createElementVNode)("button",{class:"btn btn-danger text-white",onClick:t[10]||(t[10]=function(){return Ce.clearFilter&&Ce.clearFilter.apply(Ce,arguments)})},"Clear Filters"),P,(0,o.createElementVNode)("span",null,[M,F,C,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(e.format_number(n.count,0,!0)),1)])])])]),Fe.selectedPoint?((0,o.openBlock)(),(0,o.createElementBlock)("div",H,[(0,o.createElementVNode)("div",B,[(0,o.createElementVNode)("div",L,[(0,o.createElementVNode)("div",A,[O,Fe.selectedPoint?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,onClick:t[11]||(t[11]=function(){return Ce.clearSelection&&Ce.clearSelection.apply(Ce,arguments)}),class:"btn btn-danger text-white"},I)):(0,o.createCommentVNode)("",!0)]),R,(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("p",null,[G,j,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint.name||"N/A"),1)]),(0,o.createElementVNode)("p",null,[$,Z,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint.address||"N/A"),1)]),(0,o.createElementVNode)("p",null,[U,W,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint.precision||"N/A"),1)]),(0,o.createElementVNode)("p",null,[Y,z,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint.risk_level||"N/A"),1)]),(0,o.createElementVNode)("p",null,[X,q,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint.relative_risk_assessment||"N/A"),1)]),(0,o.createElementVNode)("p",null,[J,K,(0,o.createElementVNode)("u",null,"("+(0,o.toDisplayString)(Fe.selectedPoint.x.toFixed(6))+", "+(0,o.toDisplayString)(Fe.selectedPoint.y.toFixed(6))+")",1)]),(0,o.createElementVNode)("p",null,[Q,ee,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._1_has_toilet),1)]),(0,o.createElementVNode)("p",null,[te,ne,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._2_toilet_used),1)]),(0,o.createElementVNode)("p",null,[oe,le,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._3_toilet_functional),1)]),(0,o.createElementVNode)("p",null,[re,ae,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._4_soap),1)]),(0,o.createElementVNode)("p",null,[ie,se,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._5_children),1)]),(0,o.createElementVNode)("p",null,[ce,ue,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._6_spaces),1)]),(0,o.createElementVNode)("p",null,[de,me,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._7_feces),1)]),(0,o.createElementVNode)("p",null,[pe,he,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._8_composting),1)]),(0,o.createElementVNode)("p",null,[Ne,_e,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._9_dispose),1)]),(0,o.createElementVNode)("p",null,[ge,Ve,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._10_emptied),1)]),(0,o.createElementVNode)("p",null,[fe,Ee,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._13_sewer),1)]),(0,o.createElementVNode)("p",null,[ye,ve,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._15_household),1)]),(0,o.createElementVNode)("p",null,[be,ke,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._16_household),1)]),(0,o.createElementVNode)("p",null,[xe,we,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._17_using),1)]),(0,o.createElementVNode)("p",null,[Se,De,(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(Fe.selectedPoint._19_materials),1)]),Te]),Pe])])])):(0,o.createCommentVNode)("",!0),Me])])])}],["__scopeId","data-v-d640953e"]])}}]);